import K from"./button.esm.4087d562.js";import{U as I,O as m,E as u,R as B,K as O,j as E,o as b,b as v,q as f,e as h,H as p,l as g,k as L,w as D,F as x,G as T,m as V,n as y,a1 as A}from"./entry.a8bdde5b.js";var _={name:"PickList",emits:["update:modelValue","reorder","update:selection","selection-change","move-to-target","move-to-source","move-all-to-target","move-all-to-source","focus","blur"],props:{modelValue:{type:Array,default:()=>[[],[]]},selection:{type:Array,default:()=>[[],[]]},dataKey:{type:String,default:null},listStyle:{type:null,default:null},metaKeySelection:{type:Boolean,default:!0},responsive:{type:Boolean,default:!0},breakpoint:{type:String,default:"960px"},stripedRows:{type:Boolean,default:!1},showSourceControls:{type:Boolean,default:!0},showTargetControls:{type:Boolean,default:!0},targetListProps:{type:null,default:null},sourceListProps:{type:null,default:null},moveUpButtonProps:{type:null,default:null},moveTopButtonProps:{type:null,default:null},moveDownButtonProps:{type:null,default:null},moveBottomButtonProps:{type:null,default:null},moveToTargetProps:{type:null,default:null},moveAllToTargetProps:{type:null,default:null},moveToSourceProps:{type:null,default:null},moveAllToSourceProps:{type:null,default:null},tabindex:{type:Number,default:0}},itemTouched:!1,reorderDirection:null,styleElement:null,data(){return{id:this.$attrs.id,d_selection:this.selection,focused:{sourceList:!1,targetList:!1},focusedOptionIndex:-1}},watch:{"$attrs.id":function(t){this.id=t||I()},selection(t){this.d_selection=t}},updated(){this.reorderDirection&&(this.updateListScroll(this.$refs.sourceList.$el),this.updateListScroll(this.$refs.targetList.$el),this.reorderDirection=null)},beforeUnmount(){this.destroyStyle()},mounted(){this.id=this.id||I(),this.responsive&&this.createStyle()},methods:{getItemKey(t,e){return this.dataKey?m.resolveFieldData(t,this.dataKey):e},isSelected(t,e){return m.findIndexInList(t,this.d_selection[e])!=-1},onListFocus(t,e){const l=u.findSingle(this.$refs[e].$el,"li.p-picklist-item.p-highlight"),s=m.findIndexInList(l,this.$refs[e].$el.children);this.focused[e]=!0;const o=this.focusedOptionIndex!==-1?this.focusedOptionIndex:l?s:-1;this.changeFocusedOptionIndex(o,e),this.$emit("focus",t)},onListBlur(t,e){this.focused[e]=!1,this.focusedOptionIndex=-1,this.$emit("blur",t)},onOptionMouseDown(t,e){this.focused[e]=!0,this.focusedOptionIndex=t},moveUp(t,e){if(this.d_selection&&this.d_selection[e]){let l=[...this.modelValue[e]],s=this.d_selection[e];for(let i=0;i<s.length;i++){let r=s[i],a=m.findIndexInList(r,l);if(a!==0){let n=l[a],c=l[a-1];l[a-1]=n,l[a]=c}else break}let o=[...this.modelValue];o[e]=l,this.reorderDirection="up",this.$emit("update:modelValue",o),this.$emit("reorder",{originalEvent:t,value:o,direction:this.reorderDirection,listIndex:e})}},moveTop(t,e){if(this.d_selection){let l=[...this.modelValue[e]],s=this.d_selection[e];for(let i=0;i<s.length;i++){let r=s[i],a=m.findIndexInList(r,l);if(a!==0){let n=l.splice(a,1)[0];l.unshift(n)}else break}let o=[...this.modelValue];o[e]=l,this.reorderDirection="top",this.$emit("update:modelValue",o),this.$emit("reorder",{originalEvent:t,value:o,direction:this.reorderDirection,listIndex:e})}},moveDown(t,e){if(this.d_selection){let l=[...this.modelValue[e]],s=this.d_selection[e];for(let i=s.length-1;i>=0;i--){let r=s[i],a=m.findIndexInList(r,l);if(a!==l.length-1){let n=l[a],c=l[a+1];l[a+1]=n,l[a]=c}else break}let o=[...this.modelValue];o[e]=l,this.reorderDirection="down",this.$emit("update:modelValue",o),this.$emit("reorder",{originalEvent:t,value:o,direction:this.reorderDirection,listIndex:e})}},moveBottom(t,e){if(this.d_selection){let l=[...this.modelValue[e]],s=this.d_selection[e];for(let i=s.length-1;i>=0;i--){let r=s[i],a=m.findIndexInList(r,l);if(a!==l.length-1){let n=l.splice(a,1)[0];l.push(n)}else break}let o=[...this.modelValue];o[e]=l,this.reorderDirection="bottom",this.$emit("update:modelValue",o),this.$emit("reorder",{originalEvent:t,value:o,direction:this.reorderDirection,listIndex:e})}},moveToTarget(t){let e=this.d_selection&&this.d_selection[0]?this.d_selection[0]:null,l=[...this.modelValue[0]],s=[...this.modelValue[1]];if(e){for(let i=0;i<e.length;i++){let r=e[i];m.findIndexInList(r,s)==-1&&s.push(l.splice(m.findIndexInList(r,l),1)[0])}let o=[...this.modelValue];o[0]=l,o[1]=s,this.$emit("update:modelValue",o),this.$emit("move-to-target",{originalEvent:t,items:e}),this.d_selection[0]=[],this.$emit("update:selection",this.d_selection),this.$emit("selection-change",{originalEvent:t,value:this.d_selection})}},moveAllToTarget(t){if(this.modelValue[0]){let e=[...this.modelValue[0]],l=[...this.modelValue[1]];this.$emit("move-all-to-target",{originalEvent:t,items:e}),l=[...l,...e],e=[];let s=[...this.modelValue];s[0]=e,s[1]=l,this.$emit("update:modelValue",s),this.d_selection[0]=[],this.$emit("update:selection",this.d_selection),this.$emit("selection-change",{originalEvent:t,value:this.d_selection})}},moveToSource(t){let e=this.d_selection&&this.d_selection[1]?this.d_selection[1]:null,l=[...this.modelValue[0]],s=[...this.modelValue[1]];if(e){for(let i=0;i<e.length;i++){let r=e[i];m.findIndexInList(r,l)==-1&&l.push(s.splice(m.findIndexInList(r,s),1)[0])}let o=[...this.modelValue];o[0]=l,o[1]=s,this.$emit("update:modelValue",o),this.$emit("move-to-source",{originalEvent:t,items:e}),this.d_selection[1]=[],this.$emit("update:selection",this.d_selection),this.$emit("selection-change",{originalEvent:t,value:this.d_selection})}},moveAllToSource(t){if(this.modelValue[1]){let e=[...this.modelValue[0]],l=[...this.modelValue[1]];this.$emit("move-all-to-source",{originalEvent:t,items:l}),e=[...e,...l],l=[];let s=[...this.modelValue];s[0]=e,s[1]=l,this.$emit("update:modelValue",s),this.d_selection[1]=[],this.$emit("update:selection",this.d_selection),this.$emit("selection-change",{originalEvent:t,value:this.d_selection})}},onItemClick(t,e,l,s){const o=s===0?"sourceList":"targetList";this.itemTouched=!1;const i=this.d_selection[s],r=m.findIndexInList(e,this.d_selection),a=r!=-1,n=this.itemTouched?!1:this.metaKeySelection,c=u.find(this.$refs[o].$el,".p-picklist-item")[l].getAttribute("id");this.focusedOptionIndex=c;let d;if(n){let k=t.metaKey||t.ctrlKey;a&&k?d=i.filter((S,C)=>C!==r):(d=k?i?[...i]:[]:[],d.push(e))}else a?d=i.filter((k,S)=>S!==r):(d=i?[...i]:[],d.push(e));let w=[...this.d_selection];w[s]=d,this.d_selection=w,this.$emit("update:selection",this.d_selection),this.$emit("selection-change",{originalEvent:t,value:this.d_selection})},onItemDblClick(t,e,l){l===0?this.moveToTarget(t):l===1&&this.moveToSource(t)},onItemTouchEnd(){this.itemTouched=!0},onItemKeyDown(t,e){switch(t.code){case"ArrowDown":this.onArrowDownKey(t,e);break;case"ArrowUp":this.onArrowUpKey(t,e);break;case"Home":this.onHomeKey(t,e);break;case"End":this.onEndKey(t,e);break;case"Enter":this.onEnterKey(t,e);break;case"Space":this.onSpaceKey(t,e);break;case"KeyA":t.ctrlKey&&(this.d_selection=[...this.modelValue],this.$emit("update:selection",this.d_selection))}},onArrowDownKey(t,e){const l=this.findNextOptionIndex(this.focusedOptionIndex,e);this.changeFocusedOptionIndex(l,e),t.shiftKey&&this.onEnterKey(t,e),t.preventDefault()},onArrowUpKey(t,e){const l=this.findPrevOptionIndex(this.focusedOptionIndex,e);this.changeFocusedOptionIndex(l,e),t.shiftKey&&this.onEnterKey(t,e),t.preventDefault()},onEnterKey(t,e){const l=u.find(this.$refs[e].$el,"li.p-picklist-item"),s=u.findSingle(this.$refs[e].$el,`li.p-picklist-item[id=${this.focusedOptionIndex}]`),o=[...l].findIndex(r=>r===s),i=e==="sourceList"?0:1;this.onItemClick(t,this.modelValue[i][o],o,i),t.preventDefault()},onSpaceKey(t,e){if(t.preventDefault(),t.shiftKey){const l=e==="sourceList"?0:1,s=u.find(this.$refs[e].$el,"li.p-picklist-item"),o=m.findIndexInList(this.d_selection[l][0],[...this.modelValue[l]]),i=u.findSingle(this.$refs[e].$el,`li.p-picklist-item[id=${this.focusedOptionIndex}]`),r=[...s].findIndex(a=>a===i);this.d_selection[l]=[...this.modelValue[l]].slice(Math.min(o,r),Math.max(o,r)+1),this.$emit("update:selection",this.d_selection)}else this.onEnterKey(t,e)},onHomeKey(t,e){if(t.ctrlKey&&t.shiftKey){const l=e==="sourceList"?0:1,s=u.find(this.$refs[e].$el,"li.p-picklist-item"),o=u.findSingle(this.$refs[e].$el,`li.p-picklist-item[id=${this.focusedOptionIndex}]`),i=[...s].findIndex(r=>r===o);this.d_selection[l]=[...this.modelValue[l]].slice(0,i+1),this.$emit("update:selection",this.d_selection)}else this.changeFocusedOptionIndex(0,e);t.preventDefault()},onEndKey(t,e){const l=u.find(this.$refs[e].$el,"li.p-picklist-item");if(t.ctrlKey&&t.shiftKey){const s=e==="sourceList"?0:1,o=u.findSingle(this.$refs[e].$el,`li.p-picklist-item[id=${this.focusedOptionIndex}]`),i=[...l].findIndex(r=>r===o);this.d_selection[s]=[...this.modelValue[s]].slice(i,l.length),this.$emit("update:selection",this.d_selection)}else this.changeFocusedOptionIndex(l.length-1,e);t.preventDefault()},findNextOptionIndex(t,e){const s=[...u.find(this.$refs[e].$el,"li.p-picklist-item")].findIndex(o=>o.id===t);return s>-1?s+1:0},findPrevOptionIndex(t,e){const s=[...u.find(this.$refs[e].$el,"li.p-picklist-item")].findIndex(o=>o.id===t);return s>-1?s-1:0},changeFocusedOptionIndex(t,e){const l=u.find(this.$refs[e].$el,"li.p-picklist-item");let s=t>=l.length?l.length-1:t<0?0:t;this.focusedOptionIndex=l[s].getAttribute("id"),this.scrollInView(l[s].getAttribute("id"),e)},scrollInView(t,e){const l=u.findSingle(this.$refs[e].$el,`li[id="${t}"]`);l&&l.scrollIntoView&&l.scrollIntoView({block:"nearest",inline:"start"})},updateListScroll(t){const e=u.find(t,".p-picklist-item.p-highlight");if(e&&e.length)switch(this.reorderDirection){case"up":u.scrollInView(t,e[0]);break;case"top":t.scrollTop=0;break;case"down":u.scrollInView(t,e[e.length-1]);break;case"bottom":t.scrollTop=t.scrollHeight;break}},createStyle(){if(!this.styleElement){this.$el.setAttribute(this.attributeSelector,""),this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let t=`
@media screen and (max-width: ${this.breakpoint}) {
    .p-picklist[${this.attributeSelector}] {
        flex-direction: column;
    }

    .p-picklist[${this.attributeSelector}] .p-picklist-buttons {
        padding: var(--content-padding);
        flex-direction: row;
    }

    .p-picklist[${this.attributeSelector}] .p-picklist-buttons .p-button {
        margin-right: var(--inline-spacing);
        margin-bottom: 0;
    }

    .p-picklist[${this.attributeSelector}] .p-picklist-buttons .p-button:last-child {
        margin-right: 0;
    }

    .p-picklist[${this.attributeSelector}] .pi-angle-right:before {
        content: "\\e930"
    }

    .p-picklist[${this.attributeSelector}] .pi-angle-double-right:before {
        content: "\\e92c"
    }

    .p-picklist[${this.attributeSelector}] .pi-angle-left:before {
        content: "\\e933"
    }

    .p-picklist[${this.attributeSelector}] .pi-angle-double-left:before {
        content: "\\e92f"
    }
}
`;this.styleElement.innerHTML=t}},destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},moveDisabled(t){if(!this.d_selection[t]||!this.d_selection[t].length)return!0},moveAllDisabled(t){return m.isEmpty(this[t])},moveSourceDisabled(){return m.isEmpty(this.targetList)},itemClass(t,e,l){return["p-picklist-item",{"p-highlight":this.isSelected(t,l),"p-focus":e===this.focusedOptionId}]}},computed:{idSource(){return`${this.id}_source`},idTarget(){return`${this.id}_target`},focusedOptionId(){return this.focusedOptionIndex!==-1?this.focusedOptionIndex:null},containerClass(){return["p-picklist p-component",{"p-picklist-striped":this.stripedRows}]},sourceList(){return this.modelValue&&this.modelValue[0]?this.modelValue[0]:null},targetList(){return this.modelValue&&this.modelValue[1]?this.modelValue[1]:null},attributeSelector(){return I()},moveUpAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.moveUp:void 0},moveTopAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.moveTop:void 0},moveDownAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.moveDown:void 0},moveBottomAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.moveBottom:void 0},moveToTargetAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.moveToTarget:void 0},moveAllToTargetAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.moveAllToTarget:void 0},moveToSourceAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.moveToSource:void 0},moveAllToSourceAriaLabel(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.moveAllToSource:void 0}},components:{PLButton:K},directives:{ripple:B}};const P={key:0,class:"p-picklist-buttons p-picklist-source-controls"},$={class:"p-picklist-list-wrapper p-picklist-source-wrapper"},U={key:0,class:"p-picklist-header"},F=["id","onClick","onDblclick","onMousedown","aria-selected"],M={class:"p-picklist-buttons p-picklist-transfer-buttons"},H={class:"p-picklist-list-wrapper p-picklist-target-wrapper"},N={key:0,class:"p-picklist-header"},j=["id","onClick","onDblclick","onMousedown","aria-selected"],R={key:1,class:"p-picklist-buttons p-picklist-target-controls"};function q(t,e,l,s,o,i){const r=O("PLButton"),a=E("ripple");return b(),v("div",{class:y(i.containerClass)},[l.showSourceControls?(b(),v("div",P,[f(t.$slots,"sourcecontrolsstart"),h(r,p({"aria-label":i.moveUpAriaLabel,disabled:i.moveDisabled(0)},l.moveUpButtonProps,{type:"button",icon:"pi pi-angle-up",onClick:e[0]||(e[0]=n=>i.moveUp(n,0))}),null,16,["aria-label","disabled"]),h(r,p({"aria-label":i.moveTopAriaLabel,disabled:i.moveDisabled(0)},l.moveTopButtonProps,{type:"button",icon:"pi pi-angle-double-up",onClick:e[1]||(e[1]=n=>i.moveTop(n,0))}),null,16,["aria-label","disabled"]),h(r,p({"aria-label":i.moveDownAriaLabel,disabled:i.moveDisabled(0)},l.moveDownButtonProps,{type:"button",icon:"pi pi-angle-down",onClick:e[2]||(e[2]=n=>i.moveDown(n,0))}),null,16,["aria-label","disabled"]),h(r,p({"aria-label":i.moveBottomAriaLabel,disabled:i.moveDisabled(0)},l.moveBottomButtonProps,{type:"button",icon:"pi pi-angle-double-down",onClick:e[3]||(e[3]=n=>i.moveBottom(n,0))}),null,16,["aria-label","disabled"]),f(t.$slots,"sourcecontrolsend")])):g("",!0),L("div",$,[t.$slots.sourceheader?(b(),v("div",U,[f(t.$slots,"sourceheader")])):g("",!0),h(A,p({ref:"sourceList",id:i.idSource+"_list",name:"p-picklist-flip",tag:"ul",class:"p-picklist-list p-picklist-source",style:l.listStyle,role:"listbox","aria-multiselectable":"true","aria-activedescendant":o.focused.sourceList?i.focusedOptionId:void 0,tabindex:i.sourceList&&i.sourceList.length>0?l.tabindex:-1,onFocus:e[5]||(e[5]=n=>i.onListFocus(n,"sourceList")),onBlur:e[6]||(e[6]=n=>i.onListBlur(n,"sourceList")),onKeydown:e[7]||(e[7]=n=>i.onItemKeyDown(n,"sourceList"))},l.sourceListProps),{default:D(()=>[(b(!0),v(x,null,T(i.sourceList,(n,c)=>V((b(),v("li",{key:i.getItemKey(n,c),id:i.idSource+"_"+c,class:y(i.itemClass(n,`${i.idSource}_${c}`,0)),onClick:d=>i.onItemClick(d,n,c,0),onDblclick:d=>i.onItemDblClick(d,n,0),onTouchend:e[4]||(e[4]=(...d)=>i.onItemTouchEnd&&i.onItemTouchEnd(...d)),onMousedown:d=>i.onOptionMouseDown(c,"sourceList"),role:"option","aria-selected":i.isSelected(n,0)},[f(t.$slots,"item",{item:n,index:c})],42,F)),[[a]])),128))]),_:3},16,["id","style","aria-activedescendant","tabindex"])]),L("div",M,[f(t.$slots,"movecontrolsstart"),h(r,p({"aria-label":i.moveToTargetAriaLabel,type:"button",icon:"pi pi-angle-right",onClick:i.moveToTarget,disabled:i.moveDisabled(0)},l.moveToTargetProps),null,16,["aria-label","onClick","disabled"]),h(r,p({"aria-label":i.moveAllToTargetAriaLabel,type:"button",icon:"pi pi-angle-double-right",onClick:i.moveAllToTarget,disabled:i.moveAllDisabled("sourceList")},l.moveAllToTargetProps),null,16,["aria-label","onClick","disabled"]),h(r,p({"aria-label":i.moveToSourceAriaLabel,type:"button",icon:"pi pi-angle-left",onClick:i.moveToSource,disabled:i.moveDisabled(1)},l.moveToSourceProps),null,16,["aria-label","onClick","disabled"]),h(r,p({"aria-label":i.moveAllToSourceAriaLabel,type:"button",icon:"pi pi-angle-double-left",onClick:i.moveAllToSource,disabled:i.moveSourceDisabled("targetList")},l.moveAllToSourceProps),null,16,["aria-label","onClick","disabled"]),f(t.$slots,"movecontrolsend")]),L("div",H,[t.$slots.targetheader?(b(),v("div",N,[f(t.$slots,"targetheader")])):g("",!0),h(A,p({ref:"targetList",id:i.idTarget+"_list",name:"p-picklist-flip",tag:"ul",class:"p-picklist-list p-picklist-target",style:l.listStyle,role:"listbox","aria-multiselectable":"true","aria-activedescendant":o.focused.targetList?i.focusedOptionId:void 0,tabindex:i.targetList&&i.targetList.length>0?l.tabindex:-1,onFocus:e[10]||(e[10]=n=>i.onListFocus(n,"targetList")),onBlur:e[11]||(e[11]=n=>i.onListBlur(n,"targetList")),onKeydown:e[12]||(e[12]=n=>i.onItemKeyDown(n,"targetList"))},l.targetListProps),{default:D(()=>[(b(!0),v(x,null,T(i.targetList,(n,c)=>V((b(),v("li",{key:i.getItemKey(n,c),id:i.idTarget+"_"+c,class:y(i.itemClass(n,`${i.idTarget}_${c}`,1)),onClick:d=>i.onItemClick(d,n,c,1),onDblclick:d=>i.onItemDblClick(d,n,1),onKeydown:e[8]||(e[8]=d=>i.onItemKeyDown(d,"targetList")),onMousedown:d=>i.onOptionMouseDown(c,"targetList"),onTouchend:e[9]||(e[9]=(...d)=>i.onItemTouchEnd&&i.onItemTouchEnd(...d)),role:"option","aria-selected":i.isSelected(n,1)},[f(t.$slots,"item",{item:n,index:c})],42,j)),[[a]])),128))]),_:3},16,["id","style","aria-activedescendant","tabindex"])]),l.showTargetControls?(b(),v("div",R,[f(t.$slots,"targetcontrolsstart"),h(r,p({"aria-label":i.moveUpAriaLabel,disabled:i.moveDisabled(1)},l.moveUpButtonProps,{type:"button",icon:"pi pi-angle-up",onClick:e[13]||(e[13]=n=>i.moveUp(n,1))}),null,16,["aria-label","disabled"]),h(r,p({"aria-label":i.moveTopAriaLabel,disabled:i.moveDisabled(1)},l.moveTopButtonProps,{type:"button",icon:"pi pi-angle-double-up",onClick:e[14]||(e[14]=n=>i.moveTop(n,1))}),null,16,["aria-label","disabled"]),h(r,p({"aria-label":i.moveDownAriaLabel,disabled:i.moveDisabled(1)},l.moveDownButtonProps,{type:"button",icon:"pi pi-angle-down",onClick:e[15]||(e[15]=n=>i.moveDown(n,1))}),null,16,["aria-label","disabled"]),h(r,p({"aria-label":i.moveBottomAriaLabel,disabled:i.moveDisabled(1)},l.moveBottomButtonProps,{type:"button",icon:"pi pi-angle-double-down",onClick:e[16]||(e[16]=n=>i.moveBottom(n,1))}),null,16,["aria-label","disabled"]),f(t.$slots,"targetcontrolsend")])):g("",!0)],2)}function z(t,e){e===void 0&&(e={});var l=e.insertAt;if(!(!t||typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",l==="top"&&s.firstChild?s.insertBefore(o,s.firstChild):s.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}var G=`
.p-picklist {
    display: flex;
}
.p-picklist-buttons {
    display: flex;
    flex-direction: column;
    justify-content: center;
}
.p-picklist-list-wrapper {
    flex: 1 1 50%;
}
.p-picklist-list {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: auto;
    min-height: 12rem;
    max-height: 24rem;
}
.p-picklist-item {
    cursor: pointer;
    overflow: hidden;
    position: relative;
}
.p-picklist-item.p-picklist-flip-enter-active.p-picklist-flip-enter-to,
.p-picklist-item.p-picklist-flip-leave-active.p-picklist-flip-leave-to {
    transition: none !important;
}
`;z(G);_.render=q;export{_ as default};

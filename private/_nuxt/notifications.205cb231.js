import z from"./toast.esm.803b843c.js";import T from"./button.esm.4087d562.js";import B from"./column.esm.16afdb9d.js";import N from"./datatable.esm.10e6509c.js";import R from"./inputtext.esm.4724b432.js";import A from"./textarea.esm.bd4e21ac.js";import U from"./selectbutton.esm.0566a452.js";import K from"./calendar.esm.db3a4c49.js";import M from"./dialog.esm.b445a747.js";import{d as I,b as n,k as s,e as m,w as h,p as k,aj as H,v as W,al as q,av as V,o,l as c,t as r,h as y,f as b,g,n as f,Q as C,am as J,an as O,i as Q}from"./entry.a8bdde5b.js";import{l as G}from"./loader.0ee3e5a0.js";import{f as X}from"./fastfireauth.e97fa8e2.js";import{f as D}from"./fastfirestore.94989132.js";import{a as v}from"./application.d9f5e52f.js";import"./portal.esm.f9c19ffd.js";import"./paginator.esm.3a93e560.js";import"./dropdown.esm.7450136e.js";import"./overlayeventbus.esm.2d5707d2.js";import"./virtualscroller.esm.77db94c2.js";import"./inputnumber.esm.31182f59.js";import"./focustrap.esm.aedfac9b.js";import"./utilities.bf6f8ed7.js";const a=l=>(J("data-v-830f1968"),l=l(),O(),l),Y={class:"grid crud-demo"},Z={class:"col-12"},x={class:"card"},ee=a(()=>s("b",null,"該当データ 0 件",-1)),se={key:0,class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},te=a(()=>s("h5",{class:"m-0"}," Push通知一覧 ",-1)),oe=[te],ie={key:1,class:"flex flex-row justify-content-between md:align-items-center"},ne=a(()=>s("small",{class:"m-0"}," Push通知一覧 ",-1)),le={class:"block p-input-icon-left"},ae={key:2,class:"flex flex-column mt-2 md:flex-row md:justify-content-between md:align-items-center"},re=a(()=>s("h5",{class:"m-0"},"   ",-1)),de={class:"block mt-2 md:mt-0"},ce=a(()=>s("span",{class:"p-column-title"},"管理ラベル",-1)),me=a(()=>s("span",{class:"p-column-title"},"タイトル",-1)),pe=a(()=>s("span",{class:"p-column-title"},"本文",-1)),he={style:{"max-width":"200px",display:"-webkit-box",overflow:"hidden","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"}},ue=a(()=>s("span",{class:"p-column-title"},"対象者",-1)),fe={style:{"max-width":"200px",display:"-webkit-box",overflow:"hidden","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"}},ge=a(()=>s("span",{class:"p-column-title"},"送信成功者",-1)),be={style:{"max-width":"200px",display:"-webkit-box",overflow:"hidden","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"}},ye=a(()=>s("span",{class:"p-column-title"},"開封者",-1)),ve={style:{"max-width":"200px",display:"-webkit-box",overflow:"hidden","-webkit-line-clamp":"3","-webkit-box-orient":"vertical"}},we=a(()=>s("span",{class:"p-column-title"},"送信日",-1)),_e=a(()=>s("span",{class:"p-column-title"},"送信済",-1)),ke={key:0,class:"p-button p-button-success p-button-text"},De=a(()=>s("b",null,"完了",-1)),Ee=[De],Ve={key:1,class:"p-button p-button-warning p-button-text"},Ce=a(()=>s("b",null,"送信前",-1)),$e=[Ce],je={class:"grid"},Pe={class:"field"},Se={key:0,class:"mb-3"},Le={key:0,class:"p-error"},Fe={key:1,class:"mb-5"},ze={key:3,class:"p-invalid p-error"},Te={key:4,class:"p-invalid p-error"},Be={class:"field"},Ne={class:"mb-3"},Re={key:0,class:"p-error"},Ae={key:0,class:"mb-5"},Ue={key:2,class:"p-invalid p-error"},Ke={key:3,class:"p-invalid p-error"},Me={class:"field"},Ie={class:"mb-3"},He={key:0,class:"p-error"},We={key:0,class:"mb-5"},qe={key:2,class:"p-invalid p-error"},Je={key:3,class:"p-invalid p-error"},Oe={class:"field"},Qe={class:"mb-3"},Ge={key:0,class:"p-error"},Xe={key:0,class:"mb-5"},Ye={style:{"font-weight":"bold"}},Ze={key:1},xe={key:1,class:"p-invalid p-error"},es={key:2,class:"p-invalid p-error"},ss={class:"field"},ts={class:"mb-3"},os={key:0},is={key:0,class:"mb-5"},ns={key:0},ls={key:1},as=a(()=>s("small",{class:"p-invalid p-error"}," ",-1)),rs={class:"field"},ds={class:"mb-3"},cs={key:0,class:"p-error"},ms={key:0,class:"mb-5"},ps={key:0},hs={key:1},us={key:2,class:"p-invalid p-error"},fs={key:3,class:"p-invalid p-error"},gs={key:0,class:"field"},bs=a(()=>s("label",{class:"mb-3"},"送信成功者一覧",-1)),ys={key:0,class:"mb-5"},vs={style:{"font-weight":"bold"}},ws={key:1,class:"mb-5"},_s=a(()=>s("b",null,"無し",-1)),ks=[_s],Ds={key:1,class:"field"},Es=a(()=>s("label",{class:"mb-3"},"到達(受信)者一覧",-1)),Vs={key:0,class:"mb-5"},Cs={style:{"font-weight":"bold"}},$s={key:1,class:"mb-5"},js=a(()=>s("b",null,"無し",-1)),Ps=[js],Ss={key:2,class:"field"},Ls=a(()=>s("label",{class:"mb-3"},"開封者一覧",-1)),Fs={key:0,class:"mb-5"},zs={style:{"font-weight":"bold"}},Ts={key:1,class:"mb-5"},Bs=a(()=>s("b",null,"無し",-1)),Ns=[Bs],Rs={key:0,class:"p-3"},As=a(()=>s("label",{class:"mb-3"},"※全配信は集計対象外です",-1)),Us=[As],Ks={key:1,class:"p-3"},Ms=a(()=>s("h5",null,"■ 集計結果",-1)),Is={class:"grid mt-5 mb-5"},Hs={class:"col-4"},Ws={class:"card"},qs={class:"flex justify-content-between"},Js=a(()=>s("div",null,[s("label",{class:"block font-medium mb-3"},"送信数")],-1)),Os={class:"text-900 font-medium text-xl"},Qs={class:"col-4"},Gs={class:"card"},Xs={class:"flex justify-content-between"},Ys=a(()=>s("div",null,[s("label",{class:"block font-medium mb-3"},"到達数")],-1)),Zs={class:"text-900 font-medium text-xl"},xs={class:"col-4"},et={class:"card"},st={class:"flex justify-content-between"},tt=a(()=>s("div",null,[s("label",{class:"block font-medium mb-3"},"開封数")],-1)),ot={class:"text-900 font-medium text-xl"},it={class:"flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4"},nt=a(()=>s("div",null,[s("span",{class:"text-900 font-medium mr-2 mb-1 md:mb-0"},"送信率")],-1)),lt={class:"mt-2 md:mt-0 flex align-items-center"},at={class:"surface-300 border-round overflow-hidden w-30rem",style:{height:"8px"}},rt={class:"flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4"},dt=a(()=>s("div",null,[s("span",{class:"text-900 font-medium mr-2 mb-1 md:mb-0"},"到達率")],-1)),ct={class:"mt-2 md:mt-0 flex align-items-center"},mt={class:"surface-300 border-round overflow-hidden w-30rem",style:{height:"8px"}},pt={class:"flex flex-column md:flex-row md:align-items-center md:justify-content-between mb-4"},ht=a(()=>s("div",null,[s("span",{class:"text-900 font-medium mr-2 mb-1 md:mb-0"},"開封率")],-1)),ut={class:"mt-2 md:mt-0 flex align-items-center"},ft={class:"surface-300 border-round overflow-hidden w-30rem",style:{height:"8px"}},gt={class:"flex align-items-center justify-content-center"},bt=a(()=>s("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem",color:"orange"}},null,-1)),yt={key:0},vt=a(()=>s("br",null,null,-1));H().public;const{loadingcount:Wt,showLoading:$,hideLoading:E,hideLoadingForce:qt}=G();W();const wt={data(){return{isSp:!1,windowsize:0,tableheigth:100,spsearchDialog:!1,detailDialog:!1,removeDialog:!1,isnew:!1,isdetail:!1,targetall:!1,one:{},cluster:[],page:0,rows:0,loading:!1,searchword:"",perpagerecords:100,totalrecords:0,currentmaxpage:0,currentorderfield:"registerdate",currentorderAD:"desc",submitted:!1}},updated(){this.windowsize=window.innerWidth,this.tableheigth=window.innerHeight-302,767>=this.windowsize&&(this.isSp=!0,this.tableheigth=window.innerHeight-262)},async mounted(){X().role.value<100&&q("/"),window.addEventListener("resize",this.resizeWindow),await this.search(null)},methods:{resizeWindow(){this.windowsize=window.innerWidth,this.tableheigth=window.innerHeight-302,767>=this.windowsize&&(this.isSp=!0,this.tableheigth=window.innerHeight-262)},async showEdit(l){console.log("docindex=",l),this.isnew=!0,this.isdetail=!1,this.targetall=!1,this.one={};let e=new Date;if(e.setSeconds(0),this.one.targetdate=e,this.one.targetpersons="",this.submitted=!1,l!==null){const t=this.cluster[l];if(t){this.isnew=!1,this.isdetail=!0,$();const d=await D().getinstance().get("notifications",t.id);if(E(),!d)return;this.one=d.data(),this.one.targetdate=this.one.targetdate.toDate()}}console.log("this.one=",this.one),this.detailDialog=!0},confirmRemove(l){console.log("docindex=",l);const e=this.cluster[l];e&&(this.one=e.data()),this.removeDialog=!0},async search(l){console.log("arglastdoc=",l),console.log("searchword=",this.searchword);try{this.loading=!0;let e=[];l||(this.totalrecords=0,this.currentmaxpage=0,this.cluster=[],this.$refs.dt.resetPage()),typeof this.searchword=="string"&&0<this.searchword.length&&e.push(["email","==",this.searchword]),e.push(["available","==",!0]),console.log("whereis=",e);const t=await D().getinstance().gets("notifications",e,[[this.currentorderfield,this.currentorderAD]],this.perpagerecords,l);return console.log("result=",t),t.total&&(this.totalrecords=t.total,this.cluster=this.cluster.concat(t.docs)),this.rows=this.perpagerecords,console.log("this.totalrecords=",this.totalrecords),console.log("this.cluster=",this.cluster),!0}catch(e){return console.error("error=",e),!1}finally{this.spsearchDialog=!1,setTimeout(()=>{var p,u,_,w;const e=document.getElementsByClassName("p-selectable-row");if(console.log("_docs1=",e),e)for(var t=0;t<e.length;t++)e[t]&&(e[t].classList.add("nodata"),e[t].classList.remove("isdata"));const d=document.getElementsByClassName("isdataresolve");if(console.log("_docs2=",d),d)for(var t=0;t<d.length;t++)d[t]&&d[t].parentElement&&d[t].parentElement&&((u=(p=d[t].parentElement)==null?void 0:p.parentElement)==null||u.classList.remove("nodata"),(w=(_=d[t].parentElement)==null?void 0:_.parentElement)==null||w.classList.add("isdata"));this.loading=!1},200)}},async save(){if(this.submitted=!0,!(this.one.title&&this.one.title.trim())||!(this.one.body&&this.one.body.trim())||!this.targetall&&!(this.one.targetpersons&&this.one.targetpersons.trim()))return!1;console.log("this.one.targetdate=",this.one.targetdate);let l=!1;this.one.uid||(this.one.sendpersons=[],this.one.recivepersons=[],this.one.openpersons=[],this.one.notified=!1,this.one.summarycount=0,this.one.sendperseint=0,this.one.reciveperseint=0,this.one.openperseint=0,this.one.registerdate=V(),l=!0),this.targetall&&(this.one.targetpersons="全配信"),console.log("isnew=",l),this.one.modifydate=V(),this.one.available=!0,$();try{const e=await D().getinstance().set("notifications",this.one);if(console.log("res=",e),!e)throw l?new Error("notification create fail"):new Error("notification update fail")}catch(e){alert(`保存に失敗しました。

`+e.toLocaleString()),console.log("Error save notification:",e);return}finally{E()}l?this.$toast.add({severity:"success",summary:"正常終了",detail:"Push通知の予約を追加しました。",life:3e3}):this.$toast.add({severity:"success",summary:"正常終了",detail:"Push通知の予約を更新しました。",life:3e3}),this.one={},this.detailDialog=!1,await this.search(null)},async remove(){if(!this.one.uid)return!1;$();try{this.one.modifydate=V(),this.one.available=!1;const l=await D().getinstance().set("notifications",this.one);if(console.log("res=",l),!l)throw new Error("auth remove fail")}catch(l){alert("削除に失敗しました。"),console.log("Error remove user:",l),E();return}finally{E()}this.$toast.add({severity:"success",summary:"正常終了",detail:"Push通知を削除しました。",life:3e3}),this.one={},this.removeDialog=!1,await this.search(null)},async onRowselect(l){console.log("onRowSelect event.index=",l.index),this.showEdit(l.index)},async onPage(l){if(console.log("page event=",l),this.cluster&&this.currentmaxpage<l.page){const e=this.cluster[this.cluster.length-1];await this.search(e)&&(this.currentmaxpage=l.page)}else setTimeout(()=>{var p,u,_,w;const e=document.getElementsByClassName("p-selectable-row");if(console.log("_docs1=",e),e)for(var t=0;t<e.length;t++)e[t]&&(e[t].classList.add("nodata"),e[t].classList.remove("isdata"));const d=document.getElementsByClassName("isdataresolve");if(console.log("_docs2=",d),d)for(var t=0;t<d.length;t++)d[t]&&d[t].parentElement&&d[t].parentElement&&((u=(p=d[t].parentElement)==null?void 0:p.parentElement)==null||u.classList.remove("nodata"),(w=(_=d[t].parentElement)==null?void 0:_.parentElement)==null||w.classList.add("isdata"))},200);window.scrollTo({left:0,top:0})},async onSort(l){console.log("event=",l),this.currentorderfield=l.sortField,this.currentorderAD=0<l.sortOrder?"asc":"desc",console.log("this.currentorderAD=",this.currentorderAD),await this.search(null)},async alert(l){alert(l)}}},_t=I({...wt,__name:"notifications",setup(l){return(e,t)=>{const d=z,p=T,u=B,_=N,w=R,j=A,S=U,L=K,P=M;return o(),n("div",Y,[s("div",Z,[s("div",x,[m(d),m(_,{ref:"dt",value:e.cluster,page:e.page,lazy:"",paginator:"",scrollable:!0,"scroll-height":e.tableheigth+"px",totalRecords:e.totalrecords,loading:e.loading,rows:e.rows,onPage:t[2]||(t[2]=i=>e.onPage(i)),onSort:t[3]||(t[3]=i=>e.onSort(i)),stripedRows:"","paginator-template":"PrevPageLink NextPageLink CurrentPageReport","rows-per-page-options":[10,20,100],"current-page-report-template":"{totalRecords}件中 {first}件目 〜 {last}件目表示中","responsive-layout":"scroll"},{empty:h(()=>[ee]),header:h(()=>[e.isSp?(o(),n("div",ie,[ne,s("span",le,[m(p,{label:"",icon:"pi pi-plus",class:"p-button-rounded p-button-info ml-5",onClick:t[0]||(t[0]=i=>e.showEdit(null))})])])):(o(),n("div",se,oe)),e.isSp?c("",!0):(o(),n("div",ae,[re,s("span",de,[m(p,{label:"追加",icon:"pi pi-plus",class:"p-button-info ml-5",onClick:t[1]||(t[1]=i=>e.showEdit(null))})])]))]),default:h(()=>[m(u,{field:"label",header:"管理ラベル"},{body:h(i=>[ce,s("b",null,r(y(v).formatFirestoreDoc(e.cluster[i.index],i.field)),1)]),_:1}),m(u,{field:"title",header:"タイトル"},{body:h(i=>[me,b(" "+r(y(v).formatFirestoreDoc(e.cluster[i.index],i.field)),1)]),_:1}),m(u,{field:"body",header:"本文"},{body:h(i=>[pe,s("pre",he,r(y(v).formatFirestoreDoc(e.cluster[i.index],i.field)),1)]),_:1}),m(u,{field:"targetpersons",header:"対象者"},{body:h(i=>[ue,s("pre",fe,r(y(v).formatFirestoreDoc(e.cluster[i.index],i.field)),1)]),_:1}),m(u,{field:"sendpersons",header:"送信成功者"},{body:h(i=>[ge,s("pre",be,r(y(v).formatFirestoreDoc(e.cluster[i.index],i.field)),1)]),_:1}),m(u,{field:"openpersons",header:"開封者"},{body:h(i=>[ye,s("pre",ve,r(y(v).formatFirestoreDoc(e.cluster[i.index],i.field)),1)]),_:1}),m(u,{field:"targetdate",header:"送信日"},{body:h(i=>[we,b(" "+r(y(v).formatFirestoreDoc(e.cluster[i.index],i.field)),1)]),_:1}),m(u,{field:"notified",header:"送信済","body-class":"text-center"},{body:h(i=>[_e,y(v).formatFirestoreDoc(e.cluster[i.index],i.field)?(o(),n("button",ke,Ee)):(o(),n("button",Ve,$e))]),_:1}),m(u,{style:{width:"150px"},"body-class":"text-center"},{body:h(i=>[y(v).formatFirestoreDoc(e.cluster[i.index],"uid")?(o(),g(p,{key:0,icon:"pi pi-pencil",class:"isdataresolve p-button-rounded p-button-info mr-2",onClick:F=>e.showEdit(i.index)},null,8,["onClick"])):c("",!0),y(v).formatFirestoreDoc(e.cluster[i.index],"uid")?(o(),g(p,{key:1,icon:"pi pi-trash",class:"p-button-rounded p-button-danger",onClick:F=>e.confirmRemove(i.index)},null,8,["onClick"])):c("",!0)]),_:1})]),_:1},8,["value","page","scroll-height","totalRecords","loading","rows"]),m(P,{visible:e.detailDialog,"onUpdate:visible":t[14]||(t[14]=i=>e.detailDialog=i),style:k({width:e.windowsize>834?"calc(100% - 300px - 4rem)":"100%"}),header:"Push通知詳細",modal:!0,class:"fullscreen p-fluid",position:"right",dismissableMask:!1},{footer:h(()=>[e.isdetail?(o(),g(p,{key:0,label:"閉じる",icon:"pi pi-times",class:"p-button-danger",onClick:t[11]||(t[11]=i=>e.detailDialog=!1)})):(o(),g(p,{key:1,label:"キャンセル",icon:"pi pi-times",class:"p-button-danger",onClick:t[12]||(t[12]=i=>e.isnew?e.detailDialog=!1:e.isdetail=!0)})),e.isdetail?(o(),g(p,{key:2,label:"編集",icon:"pi pi-check",class:"p-button-info",onClick:t[13]||(t[13]=i=>e.one.targetdate.getTime()>new Date().getTime()?e.isdetail=!1:e.alert("送信日を過ぎたPush通知の編集は出来ません。"))})):(o(),g(p,{key:3,label:"保存",icon:"pi pi-check",class:"p-button-info",onClick:e.save},null,8,["onClick"]))]),default:h(()=>[s("div",je,[s("div",{class:f(e.isdetail?"col-5":"col-12")},[s("div",Pe,[e.isdetail?c("",!0):(o(),n("label",Se,[b("管理ラベル "),e.isdetail?c("",!0):(o(),n("b",Le,"(必須)"))])),e.isdetail?(o(),n("h3",Fe,[s("b",null,r(e.one.label),1)])):(o(),g(w,{key:2,id:"title",modelValue:e.one.label,"onUpdate:modelValue":t[4]||(t[4]=i=>e.one.label=i),modelModifiers:{trim:!0},required:"true",type:"text",class:f({"p-invalid":e.submitted&&!e.one.label}),placeholder:"このPush通知に管理上の名前を付けて下さい。(※お客様には通知されません)",onKeypress:C(e.save,["enter"])},null,8,["modelValue","class","onKeypress"])),e.submitted&&!e.one.label?(o(),n("small",ze,"ラベルは必須項目です。")):e.isdetail?c("",!0):(o(),n("small",Te," "))]),s("div",Be,[s("label",Ne,[b("通知タイトル "),e.isdetail?c("",!0):(o(),n("b",Re,"(必須)"))]),e.isdetail?(o(),n("div",Ae,[s("b",null,r(e.one.title),1)])):(o(),g(w,{key:1,id:"title",modelValue:e.one.title,"onUpdate:modelValue":t[5]||(t[5]=i=>e.one.title=i),modelModifiers:{trim:!0},required:"true",type:"text",class:f({"p-invalid":e.submitted&&!e.one.title}),onKeypress:C(e.save,["enter"])},null,8,["modelValue","class","onKeypress"])),e.submitted&&!e.one.title?(o(),n("small",Ue,"通知タイトルは必須項目です。")):e.isdetail?c("",!0):(o(),n("small",Ke," "))]),s("div",Me,[s("label",Ie,[b("通知本文 "),e.isdetail?c("",!0):(o(),n("b",He,"(必須)"))]),e.isdetail?(o(),n("div",We,[s("b",null,[s("pre",null,r(e.one.body),1)])])):(o(),g(j,{key:1,id:"body",modelValue:e.one.body,"onUpdate:modelValue":t[6]||(t[6]=i=>e.one.body=i),modelModifiers:{trim:!0},class:f({"p-invalid":e.submitted&&!e.one.body}),rows:"5"},null,8,["modelValue","class"])),e.submitted&&!e.one.body?(o(),n("small",qe,"通知タイトルは必須項目です。")):e.isdetail?c("",!0):(o(),n("small",Je," "))]),s("div",Oe,[s("label",Qe,[b("対象者 "),e.isdetail?c("",!0):(o(),n("b",Ge,"(必須)"))]),e.isdetail?(o(),n("div",Xe,[s("pre",Ye,r(e.one.targetpersons),1)])):(o(),n("div",Ze,[m(S,{id:"targetall",class:"mb-2",style:{width:"30%"},modelValue:e.targetall,"onUpdate:modelValue":t[7]||(t[7]=i=>e.targetall=i),options:[{name:"全配信",value:!0},{name:"対象者配信",value:!1}],optionDisabled:"constant",optionLabel:"name",optionValue:"value"},null,8,["modelValue"]),e.targetall?c("",!0):(o(),g(j,{key:0,id:"targetpersons",modelValue:e.one.targetpersons,"onUpdate:modelValue":t[8]||(t[8]=i=>e.one.targetpersons=i),modelModifiers:{trim:!0},class:f({"p-invalid":e.submitted&&!e.one.targetpersons}),rows:"5"},null,8,["modelValue","class"])),!e.targetall&&e.submitted&&!e.one.targetpersons?(o(),n("small",xe,"対象者は必須項目です。")):e.isdetail?c("",!0):(o(),n("small",es," "))]))]),s("div",ss,[s("label",ts,[b("リンク "),e.isdetail?c("",!0):(o(),n("b",os,"(任意)"))]),e.isdetail?(o(),n("div",is,[e.one.link?(o(),n("b",ns,r(e.one.link),1)):(o(),n("b",ls,"無し"))])):(o(),g(w,{key:1,id:"link",modelValue:e.one.link,"onUpdate:modelValue":t[9]||(t[9]=i=>e.one.link=i),modelModifiers:{trim:!0},type:"text",placeholder:"/profile 等 (※ ドメインは不要です)",onKeypress:C(e.save,["enter"])},null,8,["modelValue","onKeypress"])),as]),s("div",rs,[s("label",ds,[b("通知日時 "),e.isdetail?c("",!0):(o(),n("b",cs,"(必須)"))]),e.isdetail?(o(),n("div",ms,[e.one.targetdate?(o(),n("small",ps,[s("b",null,r(e.one.targetdate.toLocaleTimeString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"})),1)])):(o(),n("small",hs,"指定なし"))])):(o(),g(L,{key:1,id:"targetdate",dateFormat:"yy/mm/dd",inline:"",showTime:"",hourFormat:"24",modelValue:e.one.targetdate,"onUpdate:modelValue":t[10]||(t[10]=i=>e.one.targetdate=i)},null,8,["modelValue"])),e.submitted&&!e.one.targetdate?(o(),n("small",us,"通知日時は必須項目です。")):e.isdetail?c("",!0):(o(),n("small",fs," "))]),e.isdetail?(o(),n("div",gs,[bs,e.one.sendpersons instanceof Array&&0<e.one.sendpersons.length?(o(),n("div",ys,[s("pre",vs,r(e.one.sendpersons.join(`
`)),1)])):(o(),n("div",ws,ks))])):c("",!0),e.isdetail?(o(),n("div",Ds,[Es,e.one.recivepersons instanceof Array&&0<e.one.recivepersons.length?(o(),n("div",Vs,[s("pre",Cs,r(e.one.recivepersons.join(`
`)),1)])):(o(),n("div",$s,Ps))])):c("",!0),e.isdetail?(o(),n("div",Ss,[Ls,e.one.openpersons instanceof Array&&0<e.one.openpersons.length?(o(),n("div",Fs,[s("pre",zs,r(e.one.openpersons.join(`
`)),1)])):(o(),n("div",Ts,Ns))])):c("",!0)],2),e.isdetail?(o(),n("div",{key:0,class:f(e.isdetail?"col-7":"col-0"),style:{"background-color":"ghostwhite"}},[e.one.targetpersons=="全配信"?(o(),n("div",Rs,Us)):(o(),n("div",Ks,[Ms,s("div",Is,[s("div",Hs,[s("div",Ws,[s("div",qs,[Js,s("div",{class:f(["flex align-items-center justify-content-center border-round","bg-"+(e.one.sendperseint>80?"green":e.one.sendperseint>30?"orange":"pink")+"-100"]),style:{width:"10rem",height:"4rem"}},[s("div",Os," "+r(e.one.targetpersons.trim().split(`
`).length)+" / "+r(e.one.sendpersons.length)+" 件 ",1)],2)])])]),s("div",Qs,[s("div",Gs,[s("div",Xs,[Ys,s("div",{class:f(["flex align-items-center justify-content-center border-round","bg-"+(e.one.reciveperseint>80?"green":e.one.reciveperseint>30?"orange":"pink")+"-100"]),style:{width:"10rem",height:"4rem"}},[s("div",Zs," "+r(e.one.recivepersons.length)+" / "+r(e.one.sendpersons.length)+"件 ",1)],2)])])]),s("div",xs,[s("div",et,[s("div",st,[tt,s("div",{class:f(["flex align-items-center justify-content-center border-round","bg-"+(e.one.openperseint>80?"green":e.one.openperseint>30?"orange":"pink")+"-100"]),style:{width:"10rem",height:"4rem"}},[s("div",ot," "+r(e.one.openpersons.length)+" / "+r(e.one.sendpersons.length)+" 件 ",1)],2)])])])]),s("div",it,[nt,s("div",lt,[s("span",{class:f(["ml-3 mr-3 font-medium","text-"+(e.one.sendperseint>80?"green":e.one.sendperseint>30?"orange":"pink")+"-500"])},r(e.one.sendperseint)+" %",3),s("div",at,[s("div",{class:f(["h-full","bg-"+(e.one.sendperseint>80?"green":e.one.sendperseint>30?"orange":"pink")+"-500"]),style:k("width:"+e.one.sendperseint+"%")},null,6)])])]),s("div",rt,[dt,s("div",ct,[s("span",{class:f(["ml-3 mr-3 font-medium","text-"+(e.one.reciveperseint>80?"green":e.one.reciveperseint>30?"orange":"pink")+"-500"])},r(e.one.reciveperseint)+" %",3),s("div",mt,[s("div",{class:f(["h-full","bg-"+(e.one.reciveperseint>80?"green":e.one.reciveperseint>30?"orange":"pink")+"-500"]),style:k("width:"+e.one.reciveperseint+"%")},null,6)])])]),s("div",pt,[ht,s("div",ut,[s("span",{class:f(["ml-3 mr-3 font-medium","text-"+(e.one.openperseint>80?"green":e.one.openperseint>30?"orange":"pink")+"-500"])},r(e.one.openperseint)+" %",3),s("div",ft,[s("div",{class:f(["h-full","bg-"+(e.one.openperseint>80?"green":e.one.openperseint>30?"orange":"pink")+"-500"]),style:k("width:"+e.one.openperseint+"%")},null,6)])])])]))],2)):c("",!0)])]),_:1},8,["visible","style"]),m(P,{visible:e.removeDialog,"onUpdate:visible":t[16]||(t[16]=i=>e.removeDialog=i),style:{width:"450px"},header:"最終確認",modal:!0,dismissableMask:!0},{footer:h(()=>[m(p,{label:"キャンセル",icon:"pi pi-times",class:"p-button-danger",onClick:t[15]||(t[15]=i=>e.removeDialog=!1)}),m(p,{label:"削除",icon:"pi pi-check",class:"p-button-info",onClick:e.remove},null,8,["onClick"])]),default:h(()=>[s("div",gt,[bt,e.one?(o(),n("span",yt,[b("このPush通知「"),s("b",null,r(e.one.label),1),b("」を削除します。"),vt,b("本当に削除してよろしいですか？?")])):c("",!0)])]),_:1},8,["visible"])])])])}}});const Jt=Q(_t,[["__scopeId","data-v-830f1968"]]);export{Jt as default};
